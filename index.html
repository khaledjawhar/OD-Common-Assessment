<!doctype html> <html class="no-js"> <head> <meta charset="utf-8"> <meta name="description"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>OD Common Assessment</title> <link rel="shortcut icon" href="http://new.opendatahandbook.org/favicon.ico"> <link rel="apple-touch-icon" href="http://new.opendatahandbook.org/apple-touch-icon.png"> <link rel="stylesheet" href="styles/main.css"> <script src="scripts/vendor/modernizr.js"></script> <link href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic" rel="stylesheet" type="text/css"> <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"> <script src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.3.5/tabletop.min.js"></script> <script src="http://cdn.ractivejs.org/latest/ractive.js"></script> </head> <body> <!--[if lt IE 10]>
 <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
 <![endif]--> <header> <div class="container"> <h1>Open Data Common Assessment 2015</h1>  </div> </header> <div class="container"> <div id="graph"></div> </div> <script id="template-filter" type="text/ractive"> </script> <script id="template-table" type="text/ractive"> <div class="filter"> <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false"> <span>Filter</span> <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu"> <li>apple</li> </ul> </div> <table class="countries"> <thead> <tr><th class="country-label label">Country</th><th><span class="hdi-label label">Human development index</span><span class="rti-label label">Right to information rating</span></th></tr> </thead> {{#countries}} <tr class="data-{{iso2}}" data-country="{{country}}" > <td class="country"><a href="#/country/{{iso2}}">{{country}}</a></td> <td class="results"> <div class="result-wrapper"> <a class="hdi" href="#" title="" style="width: {{humandevelopmentindex *100*0.5}}%;" data-title=""></a> <a class="rti" href="" title="" style="width: {{rtiratingnormatized *100*0.5}}%;" data-title=""></a> </div> </td> </tr> {{/countries}} </table> </script>  <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='http://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X');ga('send','pageview');
    </script>  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> <script src="scripts/vendor.js"></script> <script src="scripts/main.js"></script> <script>
      function calculateCSSWidth(value) {
          return value * 100;
      }

      function showInfo(data, tabletop) {
        var countryData = tabletop.sheets('Graph').elements;
        console.log(countryData);
        // Get worksheet named Graph
        var cc = {countries: countryData};
        console.log(data);
        //$('#fullTable').html(ich.countries(cc));

        var ractive = new Ractive({
          debug: true,
          el: '#graph',
          template: '#template-table',
          data: {countries: countryData}
        });

        console.log(ractive.template);
      }
      document.addEventListener('DOMContentLoaded', function() {
          var URL = '1kOOvztwbY1RNm545RKG8Ua6bh2GgX-P_wFadPkdH2ig';
          Tabletop.init( { key: URL, callback: showInfo, simpleSheet: false, prettyColumnNames: false } );
      });
    </script> </body> </html> 